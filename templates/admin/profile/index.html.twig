{% extends 'admin/layout.html.twig' %}

{% block title %}Profil Administrateur - EventCraft{% endblock %}

{% block content %}
<div class="admin-header">
    <h1 class="admin-title">
        {% if activeTab == 'password' %}
            Changer mot de passe
        {% else %}
            Mon Profil
        {% endif %}
    </h1>
</div>

{% if activeTab == 'password' %}
    <div class="data-card">
        <div class="data-card-header">
            <h2 class="data-card-title">Changer votre mot de passe</h2>
        </div>
        <div class="data-card-body">
            <form action="{{ path('app_admin_profile_password_update') }}" method="POST">
                <input type="hidden" name="_token" value="{{ csrf_token('admin_password_update') }}">
                
                <div class="mb-3">
                    <label for="currentPassword" class="form-label">Mot de passe actuel</label>
                    <input type="password" id="currentPassword" name="currentPassword" class="form-control" required>
                </div>
                
                <div class="mb-3">
                    <label for="newPassword" class="form-label">Nouveau mot de passe</label>
                    <input type="password" id="newPassword" name="newPassword" class="form-control" required>
                </div>
                
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirmer le nouveau mot de passe</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
                </div>

                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-key me-2"></i>Mettre à jour le mot de passe
                </button>
            </form>
        </div>
    </div>
{% else %}
    <div class="data-card">
        <div class="data-card-header">
            <h2 class="data-card-title">Informations Personnelles</h2>
        </div>
        <div class="data-card-body">
            <form action="{{ path('app_admin_profile_update') }}" method="POST">
                <input type="hidden" name="_token" value="{{ csrf_token('admin_profile_update') }}">
                
                <div class="row">
                    <div class="col-md-6 mb-3">
<<<<<<< HEAD
                        <label for="prenom" class="form-label">Prénom</label>
                        <input type="text" id="prenom" name="prenom" class="form-control" value="{{ user.prenom }}" required>
=======
<<<<<<< HEAD
                        <label for="firstName" class="form-label">Prénom</label>
                        <input type="text" id="firstName" name="firstName" class="form-control" value="{{ user.firstName }}" required>
=======
                        <label for="prenom" class="form-label">Prénom</label>
                        <input type="text" id="prenom" name="prenom" class="form-control" value="{{ user.prenom }}" required>
>>>>>>> 6ab9b1d (Initial commit)
>>>>>>> c139a4e (Résolution des conflits)
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="lastName" class="form-label">Nom</label>
                        <input type="text" id="lastName" name="lastName" class="form-control" value="{{ user.lastName }}" required>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" name="email" class="form-control" value="{{ user.email }}" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Rôle</label>
                    <input type="text" class="form-control" value="Administrateur" disabled>
                </div>
                
                {% if user.createdAt %}
                <div class="mb-3">
                    <label class="form-label">Date d'inscription</label>
                    <input type="text" class="form-control" value="{{ user.createdAt|date('d/m/Y') }}" disabled>
                </div>
                {% endif %}
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save me-2"></i>Enregistrer les modifications
                </button>
            </form>
        </div>
    </div>
{% endif %}
{% endblock %}
